
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Frontend Automation With Grunt - Liliana Kastilio</title>
  <meta name="author" content="Liliana Kastilio">

  
  <meta name="description" content="Frontend Automation With Grunt Mar 5th, 2016 12:00 am 1. What is Grunt? Grunt is a JavaScript task runner. Grunt lets you automate tasks like HTML &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://lili2311.github.io/blog/2016/03/05/frontend-automation-with-grunt/">
  <link href="/images/favicon.png" rel="icon">
  <link href="/stylesheets/styles.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Liliana Kastilio" type="application/atom+xml">
<!--   <script src="/javascripts/octopress.js" type="text/javascript"></script>
 -->  
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-53454265-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner" class="header"><div class="header__wrapper">
<a href="/">
	<div class="header__title-wrapper">
		<h1 class="header__title">Liliana</h1>
	</div>

	<div class="header__title-wrapper">
		<h1 class="header__title">Kastilio</h1>
	</div>
</a>
	
	<h2 class="header__subtitle">Coding Tutorials & Blog</h2>
	
	<nav role="navigation" class="navigation">  
<ul class="navigation__list">
  <li class="navigation__item">
  	<a class="navigation__link" href="/">Blog</a>
  </li>
  <li class="navigation__item">
  	<a class="navigation__link" href="/blog/archives">Archives</a>
  </li>
  <li class="navigation__item">
  	<a class="navigation__link" href="/blog/about">About</a>
  </li>
  <li class="navigation__item navigation__rss" data-subscription="rss">
  	<a class="navigation__link" href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a>
  </li>
</ul>
</nav>
</div>
</header>
  <div id="main" class="container">
    <div id="content">
      <div>
<article class="article" role="article">
  
  <header>
    
      <h1 class="article__title">Frontend Automation With Grunt</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-03-05T00:00:00+00:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:00 am</span></time>
        
      </p>
    
  </header>


<div class="article__content"><h4>1. What is Grunt?</h4>

<p><a href="http:/gruntjs.com/">Grunt</a> is a JavaScript task runner. Grunt lets you automate tasks like HTML minification, copying files, compiling CSS, deploying to AWS etc.</p>

<h4>2. Download Node.js</h4>

<p>Grunt and Grunt plugins are installed and managed via <a href="https://npmjs.org/">npm</a> the <a href="https://nodejs.org/en/">Node.js package manager</a>.
First of all if you will need to download <a href="https://nodejs.org/en/download/">Node.js</a> (npm will be installed with it).</p>

<h4>3. Basic Command Line Commands</h4>

<p>If you have not used command line terminal before you here are some basic commands:</p>

<p><code>ls</code></p>

<p><strong>Description</strong>: Lists the names of the files in the working directory.
For more complete information use <code>ls â€“alF</code></p>

<p><code>cd directoryname</code></p>

<p><strong>Description</strong>: Changes the working directory to the one you named.</p>

<p><code>cd ..</code></p>

<p><strong>Description</strong>: Brings you up one directory level.</p>

<p><code>cd</code></p>

<p><strong>Description</strong>: Returns you to your home directory.</p>

<p><code>pwd</code></p>

<p><strong>Description</strong>: Displays the pathname of the current directory.</p>

<p><code>mkdir newdirectoryname</code></p>

<p><strong>Description</strong>: Makes a new directory</p>

<h4>4. Install Grunt</h4>

<ol>
<li>Open your preferred terminal or install <a href="https://www.iterm2.com/">iTerm</a>.</li>
<li>Install Grunt <strong>globally</strong>: instructions below will install grunt client globally on your machine, if you already have Grunt installed skip this step. For a more detailed explanation see the official <a href="http://gruntjs.com/getting-started">documentation</a>.</li>
<li>Install Grunt <strong>locally</strong>: Now we will install Grunt locally specifically for this project. Go to your project folder. Replace the path after <code>cd</code> with the path to your folder:</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd </span>Documents/workshop/
</span></code></pre></td></tr></table></div></figure>


<p>In the terminal type out the below command to get to the project folder (if you have saved the workshop folder elsewhere adjust the path):<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>npm install grunt &ndash;save-dev
</span></code></pre></td></tr></table></div></figure></p>

<h4>5. Configure</h4>

<p>To configure the project, within your project folder type <code>npm init</code> in the terminal and follow the instructions:
<img src="http://www.lilianakastilio.co.uk/images/automation-with-grunt/npminit.png" alt="" /></p>

<h4>6. Grunt AWS Plugin</h4>

<p>We will now install Grunt AWS Plugin. Grunt uses different plugins to perform certain tasks, in order to deploy to Amazon S3 we will use the <a href="https://github.com/MathieuLoutre/grunt-aws-s3">grunt-aws-s3 plugin</a>.</p>

<p>In your project folder we can install this using the command below: <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>npm install grunt-aws-s3 &ndash;save-dev
</span></code></pre></td></tr></table></div></figure></p>

<p>We now have the plugin installed and we can configure grunt to use this task to deploy our project without having to manually upload the files every time.</p>

<p>In order for us to use this plugin  and deploy to S3 in the command line we need to create a file called <code>s3settings.json</code>, here we will keep all the login details and bucket information. <strong>This file MUST be kept secret, do not commit it to github or any other version control system. It should be excluded in <code>.gitignore</code>file if you are using git. It is important to take care as if these details are made public your account may be accessed and used by someone else, leaving you with a bill to pay</strong>:</p>

<p><img src="http://www.lilianakastilio.co.uk/images/automation-with-grunt/s3json.png" alt="" /></p>

<p>The <code>key</code> and <code>secret</code> are available in the user credentials file you downloaded when <a href="http://blog.lilianakastilio.co.uk/blog/2016/03/05/create-new-iam-users-and-permissions-in-aws/">creating an IAM user</a>. Bucket must be exactly what you called the bucket on Amazon S3 and the same for region.</p>

<p>The second file we need to create is <code>Gruntfile.js</code> this is a default file Grunt will look for locally within the project folder. Here is where we configure the tasks.</p>

<p>Using your text editor or command line, create a new file within the workshop folder called <code>Gruntfile.js</code>, the content of it should be the following:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">grunt</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'><span class="nx">grunt</span><span class="p">.</span><span class="nx">loadNpmTasks</span><span class="p">(</span><span class="s1">&#39;grunt-aws-s3&#39;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="nx">grunt</span><span class="p">.</span><span class="nx">initConfig</span><span class="p">({</span>
</span><span class='line'>  <span class="nx">pkg</span><span class="o">:</span> <span class="nx">grunt</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">readJSON</span><span class="p">(</span><span class="s1">&#39;package.json&#39;</span><span class="p">),</span>
</span><span class='line'>  <span class="nx">s3settings</span><span class="o">:</span> <span class="nx">grunt</span><span class="p">.</span><span class="nx">file</span><span class="p">.</span><span class="nx">readJSON</span><span class="p">(</span><span class="s1">&#39;s3settings.json&#39;</span><span class="p">),</span>
</span><span class='line'>      <span class="nx">aws_s3</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>              <span class="nx">accessKeyId</span><span class="o">:</span> <span class="s1">&#39;&lt;%= s3settings.key %&gt;&#39;</span><span class="p">,</span>
</span><span class='line'>              <span class="nx">secretAccessKey</span><span class="o">:</span> <span class="s1">&#39;&lt;%= s3settings.secret %&gt;&#39;</span><span class="p">,</span>
</span><span class='line'>              <span class="nx">region</span><span class="o">:</span> <span class="s1">&#39;&lt;%= s3settings.region %&gt;&#39;</span><span class="p">,</span>
</span><span class='line'>              <span class="nx">uploadConcurrency</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
</span><span class='line'>              <span class="nx">downloadConcurrency</span><span class="o">:</span> <span class="mi">5</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="nx">live</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
</span><span class='line'>              <span class="nx">bucket</span><span class="o">:</span> <span class="s1">&#39;&lt;%= s3settings.bucket %&gt;&#39;</span><span class="p">,</span>
</span><span class='line'>              <span class="nx">differential</span><span class="o">:</span> <span class="kc">true</span> <span class="c1">//Only uploads the files that have changed</span>
</span><span class='line'>          <span class="p">},</span>
</span><span class='line'>          <span class="nx">files</span><span class="o">:</span> <span class="p">[</span>
</span><span class='line'>              <span class="p">{</span><span class="nx">expand</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">cwd</span><span class="o">:</span> <span class="s1">&#39;deploy/&#39;</span><span class="p">,</span> <span class="nx">src</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;**&#39;</span><span class="p">],</span> <span class="nx">dest</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">},</span>
</span><span class='line'>              <span class="p">]</span>
</span><span class='line'>          <span class="p">},</span>
</span><span class='line'>      <span class="p">});</span>
</span><span class='line'>  <span class="nx">grunt</span><span class="p">.</span><span class="nx">registerTask</span><span class="p">(</span><span class="s1">&#39;deploy&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aws_s3:live&#39;</span><span class="p">]);</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://pastebin.com/m3cK4EcC">Full code to copy is here.</a></p>

<p>Here we have configured the plugin to upload to Amazon S3 all files in the folder deploy, so we would now have to create this folder within the project and copy any files we want uploaded.</p>

<p>We have also created a task called <code>deploy</code> which can be run in command line within the project folder to upload all files within deploy folder to Amazon S3, to the bucket specified in the <code>s3settings.json</code> file.</p>

<h4>7. Use Grunt to deploy to S3</h4>

<p>Go to the project folder in the terminal. You can now run the deploy command by typing: <figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>grunt deploy
</span></code></pre></td></tr></table></div></figure></p>

<p>And we are done!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Liliana Kastilio</span></span>

      




<time class='entry-date' datetime='2016-03-05T00:00:00+00:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:00 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/frontend/'>frontend</a>, <a class='category' href='/blog/categories/grunt/'>grunt</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://lili2311.github.io/blog/2016/03/05/frontend-automation-with-grunt/" data-via="@lilianakastilio" data-counturl="http://lili2311.github.io/blog/2016/03/05/frontend-automation-with-grunt/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2016/03/05/create-new-iam-users-and-permissions-in-aws/" title="Previous Post: Part 4: Create new IAM users and permissions in AWS">&laquo; Part 4: Create new IAM users and permissions in AWS</a>
      
      
        <a class="basic-alignment right" href="/blog/2016/10/30/stop-wasting-time-logging-into-github-on-command-line-every-time-you-push-just-set-up-ssh-keys/" title="Next Post: Stop wasting time logging into GitHub on command line every time you push: just set up SSH keys">Stop wasting time logging into GitHub on command line every time you push: just set up SSH keys &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/02/08/coding-practice-and-challenges/">Coding Practice and Challenges</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/10/30/stop-wasting-time-logging-into-github-on-command-line-every-time-you-push-just-set-up-ssh-keys/">Stop Wasting Time Logging Into GitHub on Command Line Every Time You Push: Just Set Up SSH Keys</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/05/frontend-automation-with-grunt/">Frontend Automation With Grunt</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/05/create-new-iam-users-and-permissions-in-aws/">Part 4: Create New IAM Users and Permissions in AWS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/01/Create-a-bucket-and-deploy-a-website-to-amazon-s3/">Part 3: Create a Bucket and Deploy a Website to Amazon S3</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/lili2311">@lili2311</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'lili2311',
            count: true,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>



    </div>
  </div>
  <footer role="contentinfo" class="footer"><p>
  Copyright &copy; 2017 -
  Made with <span class="heart">&#9829;</span> by <a href="http://www.lilianakastilio.co.uk">Liliana Kastilio</a> <span class="credit"> 
</p>

</footer>
  


  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script>
  (function(d) {
    var config = {
      kitId: 'dgi1mac',
      scriptTimeout: 3000,
      async: true
    },
    h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
  })(document);
</script>

  <!-- Drip -->
	<script type="text/javascript">
	  var _dcq = _dcq || [];
	  var _dcs = _dcs || {}; 
	  _dcs.account = '3564838';
	  
	  (function() {
	    var dc = document.createElement('script');
	    dc.type = 'text/javascript'; dc.async = true; 
	    dc.src = '//tag.getdrip.com/3564838.js';
	    var s = document.getElementsByTagName('script')[0];
	    s.parentNode.insertBefore(dc, s);
	  })();
	</script>
</body>
</html>
